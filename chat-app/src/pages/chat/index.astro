---
import WCAGChatAuthedPage from "@/components/chat-ui/WCAGChatAuthedPage";
import WCAGChatPage from "@/components/chat-ui/WCAGChatPage";
import AuthedChatLayout from "@/layouts/AuthedChatLayout.astro";
import { supabaseServerClient } from "@/lib/supabase";

const supabaseBE = supabaseServerClient({
	request: Astro.request,
	cookies: Astro.cookies,
});

const {
	data: { user },
} = await supabaseBE.auth.getUser();

const activeUser = user;
---

<AuthedChatLayout>
	<WCAGChatAuthedPage client:load />
</AuthedChatLayout>
