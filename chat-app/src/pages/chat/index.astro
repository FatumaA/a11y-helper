---
import ChatAuthedView from "@/components/chat-ui/chatAuthedView";
import AuthedChatLayout from "@/layouts/AuthedChatLayout.astro";
import { supabaseServerClient } from "@/lib/supabase";

const supabaseBE = supabaseServerClient({
	request: Astro.request,
	cookies: Astro.cookies,
});

const {
	data: { user },
} = await supabaseBE.auth.getUser();

const activeUser = user;
---

<AuthedChatLayout>
	<ChatAuthedView client:load />
</AuthedChatLayout>
